
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>User Registration</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    body {
      background-color: #f7f7f7;
    }
    .form-container {
      margin-top: 50px;
      padding: 30px;
      background: white;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.15);
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="row justify-content-md-center">
      <div class="col-md-6 form-container">
        <h2 class="text-center mb-4">User Registration Form</h2>
        <form method="POST" action="/" onsubmit="return validatePasswords()">
          <div class="mb-3">
            <label class="form-label" for="full_name">Full Name</label>
            <input
              type="text"
              class="form-control"
              id="full_name"
              name="full_name"
              required
              minlength="2"
              maxlength="50"
              pattern="[A-Za-z\s]+"
              title="Full name should only contain letters and spaces, between 2 and 50 characters."
            />
          </div>
          <div class="mb-3">
            <label class="form-label" for="email">Email Address</label>
            <input
              type="email"
              class="form-control"
              id="email"
              name="email"
              required
              maxlength="100"
              title="Please enter a valid email address."
            />
          </div>
          <div class="mb-3">
            <label class="form-label" for="username">Username</label>
            <input
              type="text"
              class="form-control"
              id="username"
              name="username"
              required
              minlength="3"
              maxlength="20"
              pattern="^[a-zA-Z0-9_]+$"
              title="Username must be 3-20 characters and contain only letters, numbers, and underscores."
            />
          </div>
          <div class="mb-3">
            <label class="form-label" for="password">Password</label>
            <input
              type="password"
              class="form-control"
              id="password"
              name="password"
              required
              minlength="8"
              pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[\W_]).{8,}"
              title="Password must be at least 8 characters, include uppercase, lowercase, number, and special character."
              autocomplete="new-password"
            />
          </div>
          <div class="mb-3">
            <label class="form-label" for="confirm_password">Confirm Password</label>
            <input
              type="password"
              class="form-control"
              id="confirm_password"
              name="confirm_password"
              required
              minlength="8"
              autocomplete="new-password"
            />
          </div>
          <div class="mb-3">
            <label class="form-label" for="phone">Phone Number</label>
            <input
              type="tel"
              class="form-control"
              id="phone"
              name="phone"
              required
              pattern="^\+?[0-9\s\-]{7,15}$"
              title="Enter a valid phone number (7 to 15 digits, spaces, dashes allowed, optional leading +)."
            />
          </div>
          <div class="mb-3">
            <label class="form-label" for="dob">Date of Birth</label>
            <input
              type="date"
              class="form-control"
              id="dob"
              name="dob"
              required
              max=""
              title="Select your date of birth. Must be in the past."
            />
          </div>
          <div class="mb-3">
            <label class="form-label" for="gender">Gender</label>
            <select
              class="form-select"
              id="gender"
              name="gender"
              required
            >
              <option value="" disabled selected>Select Gender</option>
              <option value="Male">Male</option>
              <option value="Female">Female</option>
              <option value="Other">Other</option>
            </select>
          </div>
          <div class="mb-3">
            <label class="form-label" for="address">Address</label>
            <textarea
              class="form-control"
              id="address"
              name="address"
              required
              minlength="10"
              maxlength="250"
              rows="3"
              title="Please enter your address (10-250 characters)."
            ></textarea>
          </div>
          <div class="text-center">
            <button type="submit" class="btn btn-primary px-5">Register</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script>
    // Set max date of DOB field to today's date
    const dobInput = document.getElementById('dob');
    const today = new Date().toISOString().split('T')[0];
    dobInput.setAttribute('max', today);

    // Password confirmation validation
    function validatePasswords() {
      const password = document.getElementById('password').value;
      const confirmPassword = document.getElementById('confirm_password').value;
      if (password !== confirmPassword) {
        alert("Passwords do not match.");
        return false;
      }
      return true;
    }
  </script>
</body>
</html>


